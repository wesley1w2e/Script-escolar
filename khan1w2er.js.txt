(async function () {
  const senhaCorreta = "law2025";

  function criarEstiloGlobal() {
    const estilo = document.createElement('style');
    estilo.innerHTML = `
      @keyframes fadein { from {opacity: 0;} to {opacity: 1;} }
      .senha-law {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to right, #000000, #1a1a1a);
        color: white;
        font-family: Arial, sans-serif;
        z-index: 99999;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        animation: fadein 0.8s ease-in;
      }
      .senha-law input {
        padding: 10px; font-size: 18px;
        margin-top: 10px; border-radius: 8px;
        background: #111; color: #0ff; border: none;
        box-shadow: 0 0 10px #00ffff;
      }
      .senha-law button {
        margin-top: 15px; padding: 10px 20px;
        font-size: 16px;
        background: linear-gradient(to right, #007cf0, #00dfd8);
        border: none; border-radius: 6px; color: white;
        cursor: pointer; transition: 0.3s;
      }
      .splash-law {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: linear-gradient(to bottom right, #000428, #004e92);
        display: flex;
        justify-content: center;
        align-items: center;
        color: #fff;
        font-size: 48px;
        font-family: Arial, sans-serif;
        text-shadow: 0 0 10px #00ccff;
        z-index: 99998;
      }
    `;
    document.head.appendChild(estilo);
  }

  function mostrarPainelSenha() {
    const div = document.createElement('div');
    div.className = 'senha-law';
    div.innerHTML = `
      <h2>ðŸ”’ Digite a senha para acessar o EstÃºdio LAW</h2>
      <input type="password" id="inputSenha" placeholder="Senha...">
      <button onclick="verificarSenha()">Entrar</button>
    `;
    document.body.appendChild(div);
  }

  window.verificarSenha = function () {
    const valor = document.getElementById('inputSenha').value;
    if (valor === senhaCorreta) {
      document.querySelector('.senha-law').remove();
      mostrarSplashLAW();
    } else {
      alert("âŒ Senha incorreta!");
    }
  };

  function mostrarSplashLAW() {
    const splash = document.createElement('div');
    splash.className = 'splash-law';
    splash.innerText = "ðŸŽ¬ EstÃºdio LAW";
    document.body.appendChild(splash);

    setTimeout(() => {
      splash.remove();
      iniciarScriptPrincipal();
    }, 3000);
  }

  function iniciarScriptPrincipal() {
    // ðŸ”¥ Seu script real comeÃ§a aqui
    Toastify({
      text: "âœ… Script iniciado com sucesso!",
      duration: 3000,
      gravity: "bottom",
      position: "center",
      style: { background: "#000", color: "#0ff" }
    }).showToast();

    // Exemplo: ativar dark mode ou qualquer funÃ§Ã£o que quiser
    console.log("Script do EstÃºdio LAW pronto para uso!");
  }

  function protecaoDevTools() {
    setInterval(() => {
      if (
        window.outerWidth - window.innerWidth > 100 ||
        window.outerHeight - window.innerHeight > 100
      ) {
        document.body.innerHTML = '<h1 style="color:red; text-align:center; margin-top:50vh;">ðŸš« DevTools detectado!</h1>';
      }
    }, 1000);
  }

  // Carregamento seguro do Toastify
  async function carregarToastify() {
    await new Promise((resolve) => {
      const css = document.createElement('link');
      css.rel = 'stylesheet';
      css.href = 'https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css';
      document.head.appendChild(css);

      const js = document.createElement('script');
      js.src = 'https://cdn.jsdelivr.net/npm/toastify-js';
      js.onload = resolve;
      document.head.appendChild(js);
    });
  }

  // Executar tudo na ordem certa
  criarEstiloGlobal();
  await carregarToastify();
  mostrarPainelSenha();
  protecaoDevTools();
})();
